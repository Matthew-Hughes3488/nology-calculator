var E=Object.defineProperty;var y=(o,r,e)=>r in o?E(o,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[r]=e;var l=(o,r,e)=>(y(o,typeof r!="symbol"?r+"":r,e),e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const i=class i{replaceDoubleNegatives(r){const e=[];for(let n=0;n<r.length;n++){const t=r[n];t!=="-"?e.push(t):r[n+1]==="-"?(e.push("+"),n++):e.push(t)}return e}getPrecedence(r){switch(r){case"+":case"-":return 1;case"x":case"÷":return 2;case"sin":case"cos":case"tan":return 3;default:return 0}}handleOperator(r,e,n){for(;e.length>0&&this.getPrecedence(e[e.length-1])>=this.getPrecedence(r);)n.push(e.pop());e.push(r)}handleClosingParenthesis(r,e){for(;r.length>0&&r[r.length-1]!=="(";)e.push(r.pop());r.pop()}isNegativeNumber(r,e){return e[r]==="-"&&(r===0||i.opperatorRegex.test(e[r-1])||e[r-1]==="(")}infixToRPN(r){if(!r||r.length===0)throw new Error("Error with tokens");let e=[],n=[];for(let t=0;t<r.length;t++){const s=r[t];if(this.isNegativeNumber(t,r)){const u=`-${r[++t]}`;e.push(u)}else i.digitRegex.test(s)?e.push(s):i.opperatorRegex.test(s)?this.handleOperator(s,n,e):s==="("?n.push(s):s===")"?this.handleClosingParenthesis(n,e):i.trigRegex.test(s)&&n.push(s)}for(;n.length>0;)e.push(n.pop());return e}evaluateRPN(r){let e=[];return r.forEach(n=>{if(n==="+"){const t=e.pop(),s=e.pop();if(!t||!s)throw new Error("Error with stack");e.push(t+s)}else if(n==="-"){const t=e.pop(),s=e.pop();if(!t||!s)throw new Error("Error with stack");e.push(s-t)}else if(n==="x"){const t=e.pop(),s=e.pop();if(!t||!s)throw new Error("Error with stack");e.push(t*s)}else if(n==="÷"){const t=e.pop(),s=e.pop();if(!t||!s)throw new Error("Error with stack");e.push(s/t)}else if(n==="sin"){const t=e.pop();if(!t)throw new Error("Error with stack");e.push(Math.sin(t))}else if(n==="cos"){const t=e.pop();if(!t)throw new Error("Error with stack");e.push(Math.cos(t))}else if(n==="tan"){const t=e.pop();if(!t)throw new Error("Error with stack");e.push(Math.tan(t))}else e.push(Number(n))}),e[0]}calculate(r){const e=r.split(new RegExp("(?=[+x÷()-])|(?<=[+x÷()-])|(?<=sin|cos|tan)|(?=sin|cos|tan)","g")),n=this.replaceDoubleNegatives(e),t=this.infixToRPN(n);return this.evaluateRPN(t)}};l(i,"digitRegex",new RegExp(/[0-9.]/)),l(i,"opperatorRegex",new RegExp(/[+\-x÷]/)),l(i,"trigRegex",new RegExp(/\b(sin|cos|tan)\b/));let a=i;const R=new RegExp(/[0-9.]/),N=new RegExp(/[+\-x÷]/),P=new RegExp(/\b(sin|cos|tan)\b/),v=["(",")"],w="It's Mathin Time",f=new a,m=document.querySelectorAll(".buttons__button"),c=document.querySelector(".display__text"),h=document.querySelector("#Guard"),b=document.querySelector("#Stop"),x=document.querySelector(".calculator");if(m.length===0||!c||!h||!b||!x)throw new Error("Error with one or more query selectors");const p=(o=w)=>{c.textContent=o},g=o=>{c.innerText===w?c.innerText=o:c.innerText+=o},d=()=>{c.innerText.includes("÷0")&&!c.innerText.includes("÷0.")&&(b.play(),h.style.display="unset",h.style.zIndex="10",x.style.display="none")},O=o=>{const e=o.target.innerHTML;if(R.test(e)||N.test(e)||v.includes(e))g(e);else if(P.test(e))g(`${e}(`);else if(e==="C")p();else if(e==="%"){d();const n=(f.calculate(c.innerText)/100).toString();p(n)}else{d();const n=f.calculate(c.innerText).toString();p(n)}};m.forEach(o=>{o.addEventListener("click",O)});
